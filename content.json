{"posts":[{"title":"Ubuntu 24.04 에서 Hyprland 사용하기","text":"Hyprland평소 Windows만 주로 사용하던 나는 linux 기반의 OS를 경험해보고 싶었다. 관련정보를 찾다보니 Debian기반의 Ubuntu가 유명하고 자료도 많아 처음 사용하기에 좋아보였다. 자유로운 커스터마이징이 linux기반 OS를 사용해보려하는 목적 중 하나였기 때문에 GNOME 과 KDE plasma에 관해서 찾아보기 시작했고, 그러던 중 우연히 Hyprland영상 하나를 발견했다. 지금까지 사용하던 데스크톱 환경과는 아예 달랐지만, ‘새로운 OS에 도전하는김에 아예 데스크톱도 새로운걸 사용해보자’ 라는 생각으로 Hyprland를 사용해보기로 마음먹었다. Hyprland관련 정보는 ArchLinux와 함께 사용하는것을 전제로 작성된 것이 대부분이었지만, Ubuntu 24.04에 Hyprland를 설치하는 방법을 자세하게 소개한 깃 레포지토리(jaKooLit’s Ubuntu-Hyprland)가 있었기때문에 어렵지 않게 설치할 수 있었다. 설치환경 OS: Ubuntu 24.04.1 LTS x86_64Kernel: 6.8.0-45-genericCPU: AMD Ryzen 7 8845HSGPU: Radeon 780M 커스터마이징Hyprland를 사용하면서 나에게 맞는 몇 가지 설정들을 공유한다. WaybarStylejaKooLit’s Ubuntu-Hyprland에서 자동으로 설치되는 [Retro] Simple Style을 그대로 사용한다. Layout[TOP] Default_v3 레이아웃을 수정하여 사용한다. Super+Alt+B로 사용할 레이아웃을 선택하고 심볼릭 링크 ~/.config/waybar/config를 수정한다. 기본 설정 12&quot;output&quot;:[&quot;HDMI-A-1&quot;], // 메인모니터에만 출력//&quot;mode&quot;: &quot;dock&quot;, // 독 모드 주석처리 modules-left 123&quot;custom/weather&quot;,&quot;custom/separator#blank_3&quot;, // 날씨모듈 다음 간격 추가&quot;custom/waybar-scrolling-mpris&quot;, // 기본 mpris 대신 직접 만든 커스텀 모듈 사용 modules-center 1&quot;hyprland/workspaces&quot;, // 동그라미모양 워크스페이스 인디케이터 사용 modules-right 1234&quot;hyprland/window&quot;, // 현재 포커스된 윈도우 정보 표시&quot;custom/separator#blank_2&quot;, // 간격 추가...//&quot;netrowk#speed&quot;, // 네트워크 모듈 주석처리 ModulesWaybar 모듈 몇 가지를 수정해서 사용한다. 모듈은 /.config/waybar/modules에 정의되어있다. custom/weather 12//&quot;exec&quot;: &quot;~/.config/hypr/UserScripts/Weather.sh,&quot;exec&quot;: &quot;~/.config/hypr/UserScripts/Weather.py, 가끔 날씨 정보를 불러오지 못하는 버그가 있어서 쉘 스크립트 대신 파이썬 스크립트를 사용한다. hyprland/window 12345678&quot;format&quot;: &quot;{class}&quot;, // 클래스 정보 표시...&quot;rewriter&quot;: { // 자주 사용하는 앱 클래스 이름 재정의 &quot;(.*)-chrome&quot;: &quot;Chrome&quot;, &quot;code-url-handler&quot;: &quot;VSCode&quot;, &quot;com.obsproject.(.*)&quot;: &quot;OBS Studio&quot;,}, custom/waybar-scrolling-mpris기본 mpris모듈은 출력 텍스트의 길이가 길면 생략표시(…)와 함께 뒷 부분이 생략된다. 나는 길이가 긴 텍스트로 모두 출력되도록 커스텀 모듈을 만들어서 사용중이다. 모니터 및 워크스페이스메인모니터 설정나는 메인모니터를 HDMI로, 서브모니터를 DP로 연결해 사용중이다. 왜인지는 모르겠으나 우분투가 DP로 연결된 모니터를 1번으로 잡고있어서 우분투 로그인 화면조차 서브모니터에 출력이된다. 먼저 우분투 GNOME환경으로 로그인하여 설정에서 모니터 우선순위와 배치를 설정하고, 설정파일을 gdm폴더로 옮긴다. 12345// Settings에서 모니터 설정 후$ sudo cp ~/.config/monitors.xml ~gdm/.config$ sudo chown gdm:gdm ~gdm/.config/monitors.xml$ reboot Hyprland에서도 메인 모니터와 워크스페이스를 설정한다. 모니터 배치 123456// ~/.config/hypr/UserScripts/Monitors.conf...# Monitorsmonitor=HDMI-A-1,1920x1080@60,0x0,1monitor=DP-1,1920x1080,1920x0,1 HDMI모니터를 워크스페이스 1번으로 설정 1234// ~/.config/hypr/UserScripts/WorkspceRules.conf...workspace = name:1, monitor:HDMI-A-1 마지막으로 부팅 시 워크스페이스 1을 포커싱하도록 설정 1234// ~/.config/hypr/UserConfig/Startup_Apps.conf...exec-once = hyprctl dispatch workspace 1 워크스페이스기본 설정때문에 항상 Chrome이 워크스페이스 2에서 실행되므로, 아래 설정을 주석처리 한다.WindowRules.conf에서 해당 라인을 주석처리 1234// ~/.config/hypr/UserConfigs/WindowRules.conf...#windowrulev2 = workspace 2, class:^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$ 기타마우스오버 윈도우포커싱 방지마우스 커서가 앱 윈도우 위에 위치해도 자동으로 포커싱되지 않도록한다. 1234567// ~/.config/hypr/UserConfigs/UserSettings.conf...#Avoid focusing window when mouse overinput { follow_mouse = 2} 문제해결Hyprland와 Ubuntu 24.04를 사용하면서 겪은 문제들과 해결방법을 공유한다. 한글 입력 문제우분투에 기본으로 탑재된 ibus가 한글을 제대로 사용할 수 없는 문제를 해결한다. fcitx5 설치 1$ sudo apt install fcitx5 fcitx5-hangul fcitx5-configtool실행 1$ fcitx5-configtool 입력기탭 우측 ‘사용가능한 입력기’목록에서 한글을 좌측 ‘현재 입력기’목록으로 이동 전역 옵션탭에서 ‘트리거 입력기’ 및 추가 옵션 설정 Hyprland config 수정 1234567// ~/.config/hypr/UserConfigs/ENVariables.conf...# fcitx5 for koreanenv = GTK_IM_MODULE,fcitxenv = QT_IM_MODULE,fcitxenv = XMODIFIERS=@im,fcitx 1234// ~/.config/hypr/UserConfigs/Startup_Apps.conf...exec-once = fcitx5 -rd vscode 한글 입력 문제wayland 환경에서 vscode를 특정옵션과 함께 실행해야 정상적으로 한글 입력이 가능하다. 터미널에서 code . 같은 명령어를 사용할경우 쉘 config을 수정한다. 1234// ~/.zshrc...code() { command code &quot;$@&quot; --enable-features=UseOzonePlatform --ozone-platform=wayland --enable-wayland-ime ;} Wayland Chrome에서 한글 입력 문제Chrome을 Wayland옵션과 함께 실행하면 한글이 입력되지 않는 문제가 있다.chrome://flags에서 Wayland text-input-v3 옵션을 Enable로 변경하여 해결한다. rofi같은 App launcher로 실행하는 경우 123// /usr/share/applications/code.desktopExec=/usr/share/code/code %F --enable-feature=UseOzonePlatform --ozon-platform=wayland --enable-wayland-ime 마우스 커서가 바뀌는 문제커서가 Waybar나 Google-Chrome같은 앱 윈도우를 지나갈때마다 모양이 바뀌는 문제를 해결한다. CURSOR_THEME과 CURSOR_SIZE는 원하는 값 1234// ~/.config/gtk-3.0/settings.inigtk-cursor-theme-name=CURSOR_THEMEgtk-cursor-theme-size=CURSOR_SIZE 1234// ~/.config/gtk-4.0/settings.inigtk-cursor-theme-name=CURSOR_THEMEgtk-cursor-theme-size=CURSOR_SIZE 12345678// ~/.config/hypr/UserConfigs/ENVariables.conf...# cursor themeenv = HYPRCURSOR_THEME,CURSOR_THEMEenv = HYPRCURSOR_SIZE,CURSOR_SIZEenv = XCURSOR_THEME,CURSOR_THEMEenv = XCURSOR_SIZE,CURSOR_SIZE 123// /usr/share/icons/default/index.theme[Icon Theme]Inherits=CURSOR_THEME Chrome 브라우저 설정위 설정을 적용해도 Chrome에서 계속 문제가 발생한다. chrome://flags 접속, Preferred Ozone platform 옵션을 Wayland로 변경하여 해결한다. 설정을 변경하게되면 크롬의 테마가 바뀌고 상단에 닫기버튼이 활성화되는데, Settings-&gt;Appearance에서 테마를 기본으로 변경 및 시스템 제목 표시줄 및 테두리 사용을 활성화해서 해결한다. 마지막으로 Wayland옵션으로 실행한 크롬에서 한글을 입력할 수 없는 문제가 발생하는데, 여기에서 해결방법을 설명한다. 참고hyprland, Chrome 또는 Brave Browser에서 fcitx5 한영전환이 되지 않는 경우 해결방법Ubuntu(Linux) 로그인 모니터 main monitor로 설정하기Inconsistent cursor themes on GTK appsGlobally set cursor theme?Chromium wayland IME 미지원","link":"/2024/10/24/hyprland-on-ubuntu-24-04-md/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","link":"/tags/Ubuntu/"},{"name":"Hyprland","slug":"Hyprland","link":"/tags/Hyprland/"}],"categories":[],"pages":[]}